<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>High/Low Bands</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uplot@1.6.32/dist/uPlot.min.css">
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/uplot@1.6.32/dist/uPlot.iife.js"></script>
    
    <script>
        // Temperature data: [timestamps, low temps, high temps, avg temps]
        let temps = [
            [1754784000, 1754870400, 1754956800, 1755043200, 1755129600, 1755216000, 1755302400, 1755388800, 1755475200, 1755561600, 1755648000, 1755734400, 1755820800, 1755907200, 1755993600, 1756080000, 1756166400, 1756252800, 1756339200, 1756425600, 1756512000, 1756598400, 1756684800, 1756771200, 1756857600, 1756944000, 1757030400, 1757116800, 1757203200, 1757289600, 1757376000, 1757462400, 1757548800, 1757635200, 1757721600, 1757808000, 1757894400, 1757980800, 1758067200, 1758153600, 1758240000, 1758326400, 1758412800, 1758499200, 1758585600],
            [13.8, 12.8, 13.3, 15.8, 11.6, 11.2, 11.7, 13.4, 15.7, 16.8, 15.8, 14.9, 13.7, 13.8, 14.7, 12.0, 12.8, 13.0, 13.2, 13.2, 13.0, 12.6, 13.1, 14.5, 14.9, 15.3, 15.2, 14.8, 14.5, 12.6, 13.1, 13.9, 15.1, 16.5, 18.6, 15.9, 12.6, 14.5, 15.1, 16.2, 15.0, 16.2, 18.0, 18.4, 19.9],
            [18.4, 17.6, 17.4, 19.3, 20.1, 16.6, 15.8, 17.8, 19.2, 18.5, 19.0, 17.9, 18.8, 18.0, 17.6, 15.5, 18.1, 18.3, 18.3, 20.2, 17.8, 17.4, 18.4, 19.2, 18.0, 17.7, 17.2, 19.8, 19.0, 18.6, 20.5, 19.2, 18.6, 19.9, 21.5, 19.0, 19.6, 17.7, 18.4, 18.1, 18.8, 19.5, 22.6, 22.2, 22.7],
            [16.31, 15.57, 15.99, 18.14, 16.18, 14.36, 14.5, 16.32, 18.27, 17.81, 17.48, 16.74, 16.58, 16.79, 16.33, 13.5, 14.78, 15.36, 15.26, 16.13, 15.44, 15.46, 15.95, 16.7, 16.66, 16.92, 16.3, 16.49, 16.41, 15.25, 17.33, 16.93, 17.15, 18.84, 20.08, 17.66, 16.24, 16.28, 16.83, 17.24, 17.37, 18.07, 20.42, 20.52, 21.64],
        ];

        let data = temps;

        // Format temperature values
        let fmtTemp = (u, v, sidx, didx) => (
            didx == null ? '--' :
            v == null ? '' :
            v + "°C"
        );

        const opts = {
            width: 1200,
            height: 600,
            title: "Hallway temperature",
            tzDate: ts => uPlot.tzDate(new Date(ts * 1e3), 'Etc/UTC'),
            scales: {
                x: {},
                y: {},
            },
            series: [
                {},
                {
                    label: "Low",
                    stroke: "green",
                    value: fmtTemp,
                    width: 1,
                },
                {
                    label: "High",
                    stroke: "red",
                    value: fmtTemp,
                    width: 1,
                },
                {
                    label: "Avg",
                    stroke: "blue",
                    dash: [10, 10],
                    width: 2,
                    value: fmtTemp,
                },
            ],
            bands: [
                {
                    series: [2, 3],
                    fill: "rgba(255, 0, 0, 0.1)",
                },
                {
                    series: [1, 3],
                    fill: "rgba(0, 255, 0, 0.1)",
                    dir: 1
                }
            ],
            axes: [
                {},
                {
                    values: (u, vals) => vals.map(v => v + "°C")
                }
            ]
        };

        let u = new uPlot(opts, data, document.body);
    </script>
</body>
</html>